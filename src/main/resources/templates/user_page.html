<html layout:decorate="~{layout}">
  <div layout:fragment="content" class="container-lg my-5">
    <div class="row justify-content-center">
      <!-- 변경: col 크기를 넓힘 (추천) -->
      <div class="col-12 col-md-10 col-lg-8">
        <div class="card rounded-4 shadow-sm p-3 p-md-4 border-0 bg-white" role="region" aria-labelledby="myinfo-title">
          <h4 id="myinfo-title" class="mb-3 fw-semibold fs-5 d-flex align-items-center gap-2">
            <i class="bi bi-person-circle text-secondary opacity-75" aria-hidden="true"></i>
            내 정보
          </h4>

          <div class="mb-3">
            <label class="form-label small text-uppercase text-body-secondary mb-1">아이디</label>
            <div class="fw-semibold lh-sm fs-6 text-secondary" th:text="${user.username}">username</div>
          </div>

          <div class="mb-3">
            <label class="form-label small text-uppercase text-body-secondary mb-1">이메일</label>
            <div class="fw-semibold lh-sm fs-6 text-secondary" th:text="${user.email}">email@example.com</div>
          </div>

          <div class="d-flex gap-2 mt-3">
            <a th:href="@{/user/edit}"
               class="btn btn-primary btn-md rounded-3 flex-fill d-flex align-items-center justify-content-center gap-2 py-2 shadow-sm"
               role="button" aria-label="회원정보 수정">
              <i class="bi bi-pencil-square" aria-hidden="true"></i>
              <span>회원정보 수정</span>
            </a>

           <form th:action="@{/user/logout}" method="post" class="m-0 flex-fill" role="form" aria-label="로그아웃 폼"
      sec:authorize="isAuthenticated()" onsubmit="return confirm('정말 로그아웃 하시겠습니까?');">
      
  <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />

  <button type="submit"
          class="btn btn-outline-danger btn-md rounded-3 w-100 d-flex align-items-center justify-content-center gap-2 py-2"
          aria-label="로그아웃">
    <i class="bi bi-box-arrow-right text-danger opacity-85" aria-hidden="true"></i>
    <span>로그아웃</span>
  </button>
</form>
          </div>

          <div class="form-text small text-body-secondary mt-2 mb-0">
            탈퇴 시 데이터 복구가 불가능할 수 있으니 주의하세요.
          </div>

          <hr class="my-4 border-top">

          <div class="d-grid gap-2">
            <a th:href="@{/question/list?type=time}"
               class="btn btn-outline-secondary btn-sm rounded-3 w-100 py-2 d-flex justify-content-center align-items-center text-body-secondary">
              예약정보 보기
            </a>
            <a th:href="@{/question/list?type=self}"
               class="btn btn-outline-secondary btn-sm rounded-3 w-100 py-2 d-flex justify-content-center align-items-center text-body-secondary">
              내가 쓴 글 보기
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>
</html>
